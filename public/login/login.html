<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UFT-8">
        <title>Urban Garden Dreams | Login</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <!-- Cool Google Fonts -->
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Bowlby+One+SC&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <!-- Our stylesheet -->
        <script src="https://kit.fontawesome.com/550d583bad.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="../login/style.css">
    </head>
    <body>
        
        <section>  
            <div class="box">  
                 <div class="container">  
                      <div class="form">  
                        <h2 class="form_header"> Urban Garden Dreams | Login </h2>
                           <form>  
                                <div class="input__box">  
                                     <input type="text" placeholder="Email"  id="email">  
                                </div>  
                                <div class="input__box">  
                                     <input type="password" placeholder="Password" id="password">  
                                </div>  
                                <div class="input__box">  

                                     <button type="button" onclick="login()">Login</button> </br>
                                     <!-- <button type="button" onclick="window.location.href='/login/register.html'">Register</button> -->  
                                        </div class="social__logins">  
                                             <button style="justify-content: center;
                                             align-items: center; background-color: rgba(255, 255, 255, 0.589); border-radius: 35px; border: 1px solid rgba(255, 255, 255, 0.5);box-shadow: 0 5px 15px rgb(0 0 0 / 5%); border-right: 1px solid rgba(255, 255, 255, 0.2); border-bottom: 1px solid rgba(255, 255, 255, 0.2); height:30px; padding-left:10px;padding-right:10px; margin-bottom: 20px; margin-top: 20px; margin-right: 10px;" type="button" id="googlesignin" > <i class="fa-brands fa-google"></i> Google</button>
                                             <button style="justify-content: center;
                                             align-items: center;background-color: rgba(255, 255, 255, 0.589); border-radius: 35px; border: 1px solid rgba(255, 255, 255, 0.5);box-shadow: 0 5px 15px rgb(0 0 0 / 5%); border-right: 1px solid rgba(255, 255, 255, 0.2); border-bottom: 1px solid rgba(255, 255, 255, 0.2); height:30px; padding-left:10px;padding-right:10px;margin-right: 10px;" type="button" id="twittersignin"><i class="fa-brands fa-twitter"></i> Twitter</button>
                                             <button style="justify-content: center;
                                             align-items: center;background-color: rgba(255, 255, 255, 0.589); border-radius: 35px; border: 1px solid rgba(255, 255, 255, 0.5);box-shadow: 0 5px 15px rgb(0 0 0 / 5%); border-right: 1px solid rgba(255, 255, 255, 0.2); border-bottom: 1px solid rgba(255, 255, 255, 0.2); height:30px; padding-left:10px;padding-right:10px;margin-bottom: 20px; margin-right: 10px;" type="button" id="githubsignin"><i class="fa-brands fa-github"></i>  Github</button>
                                             <button style="justify-content: center;
                                             align-items: center;background-color: rgba(255, 255, 255, 0.589); border-radius: 35px; border: 1px solid rgba(255, 255, 255, 0.5);box-shadow: 0 5px 15px rgb(0 0 0 / 5%); border-right: 1px solid rgba(255, 255, 255, 0.2); border-bottom: 1px solid rgba(255, 255, 255, 0.2); height:30px; padding-left:10px;padding-right:10px;margin-right: 10px;" type="button" id="facebooksignin"> <i class="fa-brands fa-facebook"></i> Facebook</button>
                                             <button style="justify-content: center;
                                             align-items: center;background-color: rgba(255, 255, 255, 0.589); border-radius: 35px; border: 1px solid rgba(255, 255, 255, 0.5);box-shadow: 0 5px 15px rgb(0 0 0 / 5%); border-right: 1px solid rgba(255, 255, 255, 0.2); border-bottom: 1px solid rgba(255, 255, 255, 0.2); height:30px; padding-left:10px;padding-right:10px;margin-right: 10px;" type="button" id="applesignin"> <i class="fa-brands fa-apple"></i> Apple</button>
                                            <!-- <button type="button" onclick="window.location.href='/login/register.html'">Register</button> -->
                                            <p style="margin-top:20px; color:rgb(73, 73, 73); font-size: small;" class="forget">Don't have an account? <a style="color:rgb(73, 73, 73); font-weight: 600;" href="/login/register.html">Register</a></p>  
                                        </div>  
                                </div> 
                           </form>  
                      </div>  
                 </div>  
            </div>  
       </section>  
        
    </body>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>

    <!-- Our script must be loaded after firebase references -->
    <script src="../login/index.js"></script>
    <script type="module">


     import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
     import { getDatabase } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js";
     import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, GoogleAuthProvider, signInWithRedirect, getRedirectResult, signInWithPopup, signOut, GithubAuthProvider, TwitterAuthProvider, FacebookAuthProvider, OAuthProvider } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js"; 
     


         // Your web app's Firebase configuration
         var firebaseConfig = {
            apiKey: "AIzaSyAFAYhBf2Ogi_uT6uFQnZMVJ8NeZGYzfo8",
            authDomain: "auth.urbangardendreams.com",
            databaseURL: "https://urban-garden-dreams-default-rtdb.firebaseio.com",
            projectId: "urban-garden-dreams",
            storageBucket: "urban-garden-dreams.appspot.com",
            messagingSenderId: "343657728934",
            appId: "1:343657728934:web:9de5520f6a8e5750c21d67",
            measurementId: "G-02CX2MVCGC"
         };
         // Initialize Firebase
         const app = initializeApp(firebaseConfig); 
         const auth = getAuth(app);

         // Login With Google Account 

         const googleProvider = new GoogleAuthProvider(app);

            googlesignin.addEventListener('click',(e) => {
            signInWithPopup(auth, googleProvider)
            .then((result) => {
                // This gives you a Google Access Token. You can use it to access the Google API.
                const credential = GoogleAuthProvider.credentialFromResult(result);
                const token = credential.accessToken;
                // The signed-in user info.
                const user = result.user;


                location.href = '../index.html';
                // ...
                }).catch((error) => {
                    // Handle Errors here.
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    // The email of the user's account used.
                    const email = error.email;
                    // The AuthCredential type that was used.
                    const credential = GoogleAuthProvider.credentialFromError(error);
                    // ...

                    alert(errorMessage);
                });
            });

            // Login with Github Account

            const githubProvider = new GithubAuthProvider(app);
            githubsignin.addEventListener('click',(e) => {
            signInWithRedirect(auth, githubProvider);
            getRedirectResult(auth, githubProvider)
            .then((result) => {
                const credential = GithubAuthProvider.credentialFromResult(result);
                if (credential) {
                // This gives you a GitHub Access Token. You can use it to access the GitHub API.
                const token = credential.accessToken;
                // ...
                }

                // The signed-in user info.
                location.href = '../index.html';
                const user = result.user;
                }).catch((error) => {
                    // Handle Errors here.
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    // The email of the user's account used.
                    const email = error.email;
                    // The AuthCredential type that was used.
                    const credential = GithubAuthProvider.credentialFromError(error);
                    // ...
                });
            });

            // Login with Twitter Account

            const twitterProvider = new TwitterAuthProvider();
            twittersignin.addEventListener('click',(e) => {
            signInWithPopup(auth, twitterProvider)
            .then((result) => {
                    // This gives you a the Twitter OAuth 1.0 Access Token and Secret.
                    // You can use these server side with your app's credentials to access the Twitter API.
                    const credential = TwitterAuthProvider.credentialFromResult(result);
                    const token = credential.accessToken;
                    const secret = credential.secret;

                    // The signed-in user info.
                    const user = result.user;
                    // ...
                    location.href = '../index.html';
                }).catch((error) => {
                    // Handle Errors here.
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    // The email of the user's account used.
                    const email = error.email;
                    // The AuthCredential type that was used.
                    const credential = TwitterAuthProvider.credentialFromError(error);
                    // ...
                });
            })

            // Login with Facebook Account
            const facebookProvider = new FacebookAuthProvider(app);
            facebookProvider.addScope('email');
            facebooksignin.addEventListener('click',(e) => {
               signInWithPopup(auth, facebookProvider)
               .then((result) => {
               // The signed-in user info.
               const user = result.user;
               // This gives you a Facebook Access Token. You can use it to access the Facebook API.
               const credential = FacebookAuthProvider.credentialFromResult(result);
               const accessToken = credential.accessToken;

               // ...
               location.href = '../index.html';
               })
               .catch((error) => {
               // Handle Errors here.
               const errorCode = error.code;
               const errorMessage = error.message;
               // The email of the user's account used.
               const email = error.email;
               // The AuthCredential type that was used.
               const credential = FacebookAuthProvider.credentialFromError(error);

               // ...
               
               });

          });

          // Login with Apple Account

          const appleProvider = new OAuthProvider('apple.com')
          appleProvider.addScope('email');
          appleProvider.addScope('name');

          applesignin.addEventListener('click',(e) => {
          signInWithPopup(auth, appleProvider)
          .then((result) => {
               // The signed-in user info.
               const user = result.user;

               // Apple credential
               const credential = OAuthProvider.credentialFromResult(result);
               const accessToken = credential.accessToken;
               const idToken = credential.idToken;

               // ...
               location.href = '../index.html';
               })
               .catch((error) => {
               // Handle Errors here.
               const errorCode = error.code;
               const errorMessage = error.message;
               // The email of the user's account used.
               const email = error.email;
               // The credential that was used.
               const credential = OAuthProvider.credentialFromError(error);

               // ...
               });
          });


         </script>

</html>